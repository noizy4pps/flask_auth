{% extends 'base.html' %}
{% block title %}Change user role{% endblock %}
{% block content %}

<div class="card shadow-lg w-100 mx-auto" style="max-width: 400px;">
        <div class="card-body">
            <div class="text-center">
                <h1 class="card-title h3">Change user role</h1>
            </div>
            <div class="mt-4">
                <form method="POST" onsubmit="return confirmRoleChange();">
                    {{ form.hidden_tag() }}
                    <div class="mb-4">
                        {{ form.user_id.label }} 
                        {{ form.user_id(id='user-id') }}<br>
                    </div>
                    <div class="mb-4">
                        {{ form.role.label }} 
                        {{ form.role(id='role-id') }}<br>
                    </div>
                    <div class="d-grid">
                        {{ form.submit(class_="btn btn-dark btn-lg") }}
                    </div>
                </form>
            </div>
        </div>
    </div>
  
<script>
function confirmRoleChange() {
  const user = document.getElementById("user-id");
  const role = document.getElementById("role-id");
  const userText = user.options[user.selectedIndex].text;
  const roleText = role.options[role.selectedIndex].text;
  return confirm(`Change role of ${userText} to "${roleText}"?`);
}
</script>
{% endblock %}
